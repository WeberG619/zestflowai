<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation | ZestFlow AI Developer Portal</title>
    <meta name="description" content="Complete API documentation for ZestFlow AI. RESTful endpoints, webhooks, authentication, and code examples for developers.">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="ZestFlow AI API Documentation">
    <meta property="og:description" content="Build powerful integrations with the ZestFlow AI API">
    <meta property="og:image" content="https://www.zestflowai.com/images/api-docs-og.jpg">
    <meta property="og:url" content="https://www.zestflowai.com/api-docs.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    
    <link rel="stylesheet" href="/consistent-styles.css">
    <link rel="stylesheet" href="/navigation-fix.css">
    <link rel="stylesheet" href="/global-styles.css">
    
    <link rel="stylesheet" href="/consistent-styles.css">
    <link rel="stylesheet" href="/navigation-fix.css">
    <link rel="stylesheet" href="/global-styles.css">
    <style>
        .docs-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 40px;
            margin-top: 80px;
        }
        
        .docs-sidebar {
            position: sticky;
            top: 100px;
            height: fit-content;
            max-height: calc(100vh - 120px);
            overflow-y: auto;
        }
        
        .sidebar-section {
            margin-bottom: 30px;
        }
        
        .sidebar-section h3 {
            font-size: 14px;
            text-transform: uppercase;
            color: #666;
            margin-bottom: 15px;
            letter-spacing: 1px;
        }
        
        .sidebar-section ul {
            list-style: none;
            padding: 0;
        }
        
        .sidebar-section li {
            margin-bottom: 10px;
        }
        
        .sidebar-section a {
            color: var(--text-dark);
            text-decoration: none;
            display: block;
            padding: 8px 15px;
            border-radius: 5px;
            transition: all 0.3s;
        }
        
        .sidebar-section a:hover,
        .sidebar-section a.active {
            background: var(--bg-section);
            color: var(--highlight);
        }
        
        .docs-content {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        }
        
        .endpoint {
            background: var(--bg-section);
            border-left: 4px solid var(--highlight);
            padding: 20px;
            margin: 30px 0;
            border-radius: 5px;
        }
        
        .endpoint-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .method {
            background: var(--success);
            color: white;
            padding: 5px 15px;
            border-radius: 5px;
            font-weight: 600;
            font-size: 14px;
        }
        
        .method.post {
            background: var(--highlight);
        }
        
        .method.put {
            background: var(--warning);
        }
        
        .method.delete {
            background: var(--error);
        }
        
        .endpoint-path {
            font-family: 'Courier New', monospace;
            font-size: 18px;
            color: var(--primary);
        }
        
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 20px 0;
            position: relative;
        }
        
        .code-lang {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255,255,255,0.1);
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 12px;
            color: #999;
        }
        
        .params-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .params-table th {
            background: var(--bg-section);
            padding: 15px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .params-table td {
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .param-name {
            font-family: 'Courier New', monospace;
            background: rgba(50, 130, 184, 0.1);
            padding: 2px 8px;
            border-radius: 3px;
        }
        
        .param-type {
            color: #666;
            font-size: 14px;
        }
        
        .param-required {
            background: var(--error);
            color: white;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
        }
        
        .param-optional {
            background: #999;
            color: white;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
        }
        
        .response-example {
            margin: 30px 0;
        }
        
        .tab-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .tab-button {
            padding: 10px 20px;
            background: var(--bg-section);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .tab-button.active {
            background: var(--highlight);
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @media (max-width: 1024px) {
            .docs-container {
                grid-template-columns: 1fr;
            }
            
            .docs-sidebar {
                position: static;
                background: var(--bg-section);
                padding: 20px;
                border-radius: 8px;
                margin-bottom: 30px;
            }
        }
    </style>
</head>
<body style="background: var(--bg-section);">
    <!-- Navigation -->
    <header style="background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: fixed; top: 0; left: 0; right: 0; z-index: 100;">
        <nav class="container">
            <a href="/" class="logo">ZestFlow AI</a>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="/api-docs.html" class="active">API Docs</a></li>
                <li><a href="/status.html">Status</a></li>
                <li><a href="/changelog.html">Changelog</a></li>
                <li><a href="/support.html">Support</a></li>
            </ul>
            <a href="/book-install.html" class="contact-btn">Get API Key</a>
            <button class="mobile-menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </nav>
    </header>
    
    <div class="docs-container">
        <!-- Sidebar -->
        <aside class="docs-sidebar">
            <div class="sidebar-section">
                <h3>Getting Started</h3>
                <ul>
                    <li><a href="#introduction" class="active">Introduction</a></li>
                    <li><a href="#authentication">Authentication</a></li>
                    <li><a href="#rate-limits">Rate Limits</a></li>
                    <li><a href="#errors">Error Handling</a></li>
                </ul>
            </div>
            
            <div class="sidebar-section">
                <h3>Core Resources</h3>
                <ul>
                    <li><a href="#bookings">Bookings</a></li>
                    <li><a href="#customers">Customers</a></li>
                    <li><a href="#conversations">Conversations</a></li>
                    <li><a href="#payments">Payments</a></li>
                </ul>
            </div>
            
            <div class="sidebar-section">
                <h3>Webhooks</h3>
                <ul>
                    <li><a href="#webhook-overview">Overview</a></li>
                    <li><a href="#webhook-events">Event Types</a></li>
                    <li><a href="#webhook-security">Security</a></li>
                </ul>
            </div>
            
            <div class="sidebar-section">
                <h3>SDKs & Libraries</h3>
                <ul>
                    <li><a href="#node-sdk">Node.js</a></li>
                    <li><a href="#python-sdk">Python</a></li>
                    <li><a href="#php-sdk">PHP</a></li>
                    <li><a href="#postman">Postman Collection</a></li>
                </ul>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="docs-content">
            <section id="introduction">
                <h1 style="font-size: 42px; margin-bottom: 20px;">ZestFlow AI API Documentation</h1>
                <p style="font-size: 20px; color: #666; margin-bottom: 40px;">Build powerful integrations with our RESTful API</p>
                
                <div style="background: linear-gradient(135deg, var(--highlight), var(--accent)); color: white; padding: 30px; border-radius: 8px; margin-bottom: 40px;">
                    <h3 style="margin-bottom: 15px;">ðŸš€ Quick Start</h3>
                    <ol style="margin: 0; padding-left: 20px;">
                        <li>Get your API key from the dashboard</li>
                        <li>Make your first API call</li>
                        <li>Set up webhooks for real-time updates</li>
                    </ol>
                </div>
                
                <h2>Base URL</h2>
                <code class="code-block">https://api.zestflowai.com/v2</code>
                
                <h2>Making Your First Request</h2>
                <div class="code-block">
                    <span class="code-lang">bash</span>
curl https://api.zestflowai.com/v2/bookings \
  -H "Authorization: Bearer YOUR_API_KEY"
                </div>
            </section>
            
            <section id="authentication" style="margin-top: 60px;">
                <h2>Authentication</h2>
                <p>The ZestFlow AI API uses API keys to authenticate requests. You can find your API key in your dashboard settings.</p>
                
                <div class="endpoint">
                    <p><strong>Include your API key in all requests:</strong></p>
                    <code>Authorization: Bearer YOUR_API_KEY</code>
                </div>
                
                <div class="tab-buttons">
                    <button class="tab-button active" onclick="showTab('auth-curl')">cURL</button>
                    <button class="tab-button" onclick="showTab('auth-node')">Node.js</button>
                    <button class="tab-button" onclick="showTab('auth-python')">Python</button>
                </div>
                
                <div id="auth-curl" class="tab-content active">
                    <div class="code-block">
                        <span class="code-lang">bash</span>
curl https://api.zestflowai.com/v2/bookings \
  -H "Authorization: Bearer sk_live_50vZaQDbTJxqFw3"
                    </div>
                </div>
                
                <div id="auth-node" class="tab-content">
                    <div class="code-block">
                        <span class="code-lang">javascript</span>
const ZestFlow = require('zestflow-ai');
const zestflow = new ZestFlow('sk_live_50vZaQDbTJxqFw3');

const bookings = await zestflow.bookings.list();
                    </div>
                </div>
                
                <div id="auth-python" class="tab-content">
                    <div class="code-block">
                        <span class="code-lang">python</span>
import zestflow
zestflow.api_key = 'sk_live_50vZaQDbTJxqFw3'

bookings = zestflow.Booking.list()
                    </div>
                </div>
            </section>
            
            <section id="bookings" style="margin-top: 60px;">
                <h2>Bookings</h2>
                <p>The booking object represents an after-hours job that has been scheduled through the ZestFlow AI system.</p>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method">GET</span>
                        <span class="endpoint-path">/bookings</span>
                    </div>
                    <p>Retrieve a list of all bookings</p>
                </div>
                
                <h3>Parameters</h3>
                <table class="params-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Required</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="param-name">limit</span></td>
                            <td><span class="param-type">integer</span></td>
                            <td><span class="param-optional">optional</span></td>
                            <td>Number of bookings to return (1-100, default 10)</td>
                        </tr>
                        <tr>
                            <td><span class="param-name">starting_after</span></td>
                            <td><span class="param-type">string</span></td>
                            <td><span class="param-optional">optional</span></td>
                            <td>Cursor for pagination</td>
                        </tr>
                        <tr>
                            <td><span class="param-name">status</span></td>
                            <td><span class="param-type">string</span></td>
                            <td><span class="param-optional">optional</span></td>
                            <td>Filter by status: pending, confirmed, completed, cancelled</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>Response Example</h3>
                <div class="code-block">
                    <span class="code-lang">json</span>
{
  "object": "list",
  "data": [
    {
      "id": "book_1JKLmNoPqRsTuVwX",
      "object": "booking",
      "created": 1640995200,
      "customer": {
        "id": "cust_1ABCdEfGhIjKlMnO",
        "name": "John Smith",
        "phone": "+1 (555) 123-4567",
        "email": "john@example.com"
      },
      "service_type": "plumbing",
      "urgency": "emergency",
      "scheduled_for": 1641002400,
      "address": {
        "line1": "123 Main St",
        "city": "Dallas",
        "state": "TX",
        "zip": "75201"
      },
      "deposit": {
        "amount": 9900,
        "currency": "usd",
        "status": "collected"
      },
      "status": "confirmed",
      "technician_id": "tech_5YZ123",
      "estimated_duration": 120,
      "notes": "Kitchen sink clogged, water backing up"
    }
  ],
  "has_more": true,
  "url": "/v2/bookings"
}
                </div>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-path">/bookings</span>
                    </div>
                    <p>Create a new booking programmatically</p>
                </div>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method">GET</span>
                        <span class="endpoint-path">/bookings/:id</span>
                    </div>
                    <p>Retrieve a specific booking by ID</p>
                </div>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method put">PUT</span>
                        <span class="endpoint-path">/bookings/:id</span>
                    </div>
                    <p>Update booking details</p>
                </div>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method delete">DELETE</span>
                        <span class="endpoint-path">/bookings/:id</span>
                    </div>
                    <p>Cancel a booking</p>
                </div>
            </section>
            
            <section id="webhooks" style="margin-top: 60px;">
                <h2>Webhooks</h2>
                <p>Webhooks allow you to receive real-time notifications when events occur in your ZestFlow AI account.</p>
                
                <h3>Available Events</h3>
                <ul style="line-height: 2;">
                    <li><code>booking.created</code> - New booking received</li>
                    <li><code>booking.confirmed</code> - Booking confirmed by customer</li>
                    <li><code>booking.cancelled</code> - Booking cancelled</li>
                    <li><code>booking.completed</code> - Job marked as complete</li>
                    <li><code>payment.collected</code> - Deposit collected</li>
                    <li><code>payment.failed</code> - Payment attempt failed</li>
                    <li><code>conversation.started</code> - New SMS conversation initiated</li>
                    <li><code>customer.created</code> - New customer added</li>
                </ul>
                
                <h3>Webhook Payload Example</h3>
                <div class="code-block">
                    <span class="code-lang">json</span>
{
  "id": "evt_1JKLmNoPqRsTuVwX",
  "object": "event",
  "type": "booking.created",
  "created": 1640995200,
  "data": {
    "object": {
      // Full booking object
    }
  }
}
                </div>
                
                <h3>Verifying Webhook Signatures</h3>
                <p>All webhook requests include a signature header for security:</p>
                <div class="code-block">
                    <span class="code-lang">javascript</span>
const crypto = require('crypto');

function verifyWebhookSignature(payload, signature, secret) {
  const hmac = crypto.createHmac('sha256', secret);
  const digest = hmac.update(payload).digest('hex');
  return digest === signature;
}
                </div>
            </section>
            
            <div style="background: var(--bg-section); padding: 40px; border-radius: 8px; margin-top: 60px; text-align: center;">
                <h2 style="margin-bottom: 20px;">Need Help?</h2>
                <p style="font-size: 18px; color: #666; margin-bottom: 30px;">Our developer support team is here to help you build amazing integrations</p>
                <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
                    <a href="mailto:developers@zestflowai.com" style="background: var(--highlight); color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; font-weight: 600;">Email Support</a>
                    <a href="https://github.com/zestflowai/api-examples" style="background: white; color: var(--highlight); padding: 12px 30px; text-decoration: none; border-radius: 5px; font-weight: 600; border: 2px solid var(--highlight);">View Examples</a>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Scripts -->
    <script>
        // Tab switching
        function showTab(tabId) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
        }
        
        // Smooth scrolling for sidebar links
        document.querySelectorAll('.docs-sidebar a').forEach(link => {
            link.addEventListener('click', function(e) {
                if (this.getAttribute('href').startsWith('#')) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                    
                    // Update active state
                    document.querySelectorAll('.docs-sidebar a').forEach(a => a.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });
        
        // Mobile menu toggle
        const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
        const navLinks = document.querySelector('.nav-links');
        
        mobileMenuToggle?.addEventListener('click', function() {
            navLinks.classList.toggle('active');
        });
    </script>
</body>
</html>